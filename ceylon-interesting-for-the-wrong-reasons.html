<!DOCTYPE html>
<html lang="en">
<head>
        <title>Ceylon: Interesting For The Wrong Reasons</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="./theme/css/main.css" type="text/css" />
        <link href="http://quelgar.github.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Wisdom Eludes Me Atom Feed" />
        

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie.css"/>
                <script src="./js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">

        <header id="banner" class="body">
                <h1><a href=".">Wisdom Eludes Me </a></h1>
                <nav><ul>
                
                
                
                
                
                    <li ><a href="./category/politics.html">politics</a></li>
                
                    <li class="active"><a href="./category/programming.html">programming</a></li>
                
                </ul></nav>
        </header><!-- /#banner -->
        
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="ceylon-interesting-for-the-wrong-reasons.html" rel="bookmark"
           title="Permalink to Ceylon: Interesting For The Wrong Reasons">Ceylon: Interesting For The Wrong&nbsp;Reasons</a></h1>
      
    </header>

    <div class="entry-content">
      <footer class="post-info">
        <abbr class="published" title="2011-04-15T00:00:00">
                Fri 15 April 2011
        </abbr>

        
        <address class="vcard author">
                By <a class="url fn" href="./author/lachlan-odea.html">Lachlan O'Dea</a>
        </address>
        
<p>In <a href="./category/programming.html">programming</a>. </p>
<p>tags: <a href="./tag/ceylon.html">ceylon</a><a href="./tag/flameage.html">flameage</a><a href="./tag/java.html">java</a><a href="./tag/scala.html">scala</a></p>


</footer><!-- /.post-info -->
      <p>A couple of days ago, Gavin King announced that he is leading a team at RedHat that&#8217;s creating a new <span class="caps">JVM</span> language called Ceylon. See <a href="http://in.relation.to/19161.lace">here</a> for most of what is known so far. The stated motivation, in a nutshell is that they like Java very much, but it has deficiencies that are preventing progress in key areas, and they are generally feeling &#8220;frustrated&#8221;. They don&#8217;t have a complete compiler yet, but they&#8217;re working on it, and I get the impression RedHat is pretty serious about&nbsp;it.</p>
<p>Gavin King&#8217;s slides provide a fascinating insight into the kind of thinking that remains so dominant in the Java community. Gavin King is well known in the Java world as the inventor/leader of <a href="http://www.hibernate.org/">Hibernate</a> and various other JBoss projects. He certainly knows Java inside out, and his list of &#8220;frustrations&#8221; is astute, if incomplete. While I haven&#8217;t dug into all the details so far revealed about Ceylon, but it seems likely that they&#8217;ll succeed in their goal of creating &#8220;a better Java&#8221;. If given the choice between using Java and Ceylon, I could certainly see myself choosing Ceylon. But Ceylon is a terrible idea. The problem is that they are treating the symptoms, not the disease; and they&#8217;re repeating exactly the same mistakes that resulted in them finally hitting a dead-end with&nbsp;Java.</p>
<p>Possibly the best outcome of Ceylon is that it emphatically refutes the argument that &#8220;Java is all we need&#8221;. Few have put more hard labour into trying to make Java feasible than Gavin King and the JBoss folks. They and a <a href="http://apache.org">few</a> <a href="http://www.springsource.org/">others</a> have spent the last decade or so producing a staggering number of bloated tools, libraries and frameworks in order to keep Java going. Don&#8217;t get me wrong, there&#8217;s a lot of extremely useful Java libraries out there, but there&#8217;s also a huge amount of guff that exists solely to compensate for the impracticality of the Java language. Ceylon is the &#8220;main-stream&#8221; admitting, finally, that not all problems can be solved <em>the Java way</em>: more frameworks, more libraries, more tools, more&nbsp;code.</p>
<p>So Mr King and friends have finally hit the wall with Java. They&#8217;re a bit late to the party, but we should welcome them none the less. So why do I say Ceylon is a terrible idea? The short answer is: <a href="http://www.scala-lang.org/">Scala</a>. The long answer is, well, longer. My biased summary of the situation is this: after years of having to build more and more layers of increasingly baroque frameworks in order to make progress, they realise that they can no longer keep up with their competitors (C#) because Java the language is an unavoidable bottleneck. They identify certain essential abstractions that are needed to solve their immediate problems, and proceed to design a new language that provides those essential abstractions, while remaining as &#8220;familiar&#8221; as&nbsp;possible.</p>
<p>In other words, Ceylon is all about making &#8220;a better Java&#8221;. There is certainly support for a evolutionary approach like this. Some argue that Java itself was (in language terms) &#8220;a better C++&#8221;, so why not follow that successful approach now? Well, if that worked so well for Java, why are even its greatest fans now trying to replace it? I&#8217;m reminded of Linus Torvalds&#8217; reaction to &#8220;Subversion is a better <span class="caps">CVS</span>&#8221;. The problem with Subversion isn&#8217;t that is poorly designed or built; it isn&#8217;t. The problem with Subversion is that the goal itself just isn&#8217;t very&nbsp;useful.</p>
<p>This is how it&#8217;s going to go: Ceylon will be built, they&#8217;ll make a <span class="caps">SDK</span> library, then there will be Hibernate-Ceylon, Spring-Ceylon, WebFrameworks-Ceylon 1 through 63,854, Logging4Ceylon, Ceylon.util.logging, commons-logging-ceylon and Simple Logging Facade 4 Ceylon. All these will be an improvement over their Java equivalents. Then, in another five or so years they&#8217;ll hit some new pain points and realise that some of those other &#8220;academic&#8221; abstractions are actually useful in the real world after all. For example, Ceylon supports higher-order functions (but, inexplicably, not lambda expressions). If we could go back in time 5 years and ask Gavin King &#8220;how important do you think higher-order functions are?&#8221;, what would he say? My guess is &#8220;they&#8217;re not essential for Real&nbsp;Work&trade;&#8221;.</p>
<p>But it&#8217;s still an improvement, so why not embrace it? Because we have an already have a much better option that&#8217;s already doing the job in the real world: Scala. Or look at the interesting stuff going on in .<span class="caps">NET</span> land. Ceylon&#8217;s goals look positively narrow and uninspiring by comparison. Of course, Gavin King was immediately asked &#8220;why not Scala?&#8221;. It is my sincere hope that this question will continue to be asked of him. His answer consists of the same misconceptions that Scala advocates have been trying to dispel since forever. Take this statement from Mr King, from an <a href="http://www.infoq.com/news/2011/04/ceylon">interview in InfoQ</a>:</p>
<blockquote>
<p>One important force that helped make Java so successful was the things Java left out. But you need to be very smart here: Java&#8217;s decision to leave out higher-order function support was enormously harmful. Now, obviously the Scala team have gone down a very different path here and have created a very feature-rich type system. As a general rule I would prefer to solve my problems with fewer, more general constructs, than with more, less powerful&nbsp;constructs.</p>
</blockquote>
<p>This is the exact inverse of the truth. No one who has made a serious effort to understand Scala could make such a statement. &#8220;Fewer, more general constructs&#8221; is <em>exactly</em> what Scala is all about! My summary of Scala&#8217;s mission statement would be as&nbsp;follows:</p>
<ul>
<li>Scala aims to maximise the potential for useful abstractions,&nbsp;whilst:</li>
<li>giving assurance that your abstractions are correct (static&nbsp;typing)</li>
<li>allowing you to do what is necessary to get the performance you&nbsp;need</li>
<li>maintaining seamless interoperability with&nbsp;Java</li>
</ul>
<p>Scala aims to be compatible with Java, but it&#8217;s about much more than just &#8220;a better Java&#8221;. Ironically, it seems as though Ceylon will not interoperate with Java as seamlessly as Scala does (e.g. Scala keeps null and type erasure). It&#8217;ll be interesting to see how that works out. To get an idea of how serious the Scala team is about powerful but <em>practical</em> abstractions, look at how they handle the tensions that crop up between abstraction and performance. Great examples of this are how Scala deals with the unpleasantness of arrays on the <span class="caps">JVM</span>, and also the <code>@specialized</code> annotation.</p>
<p>Scala is by no means perfect. The trade-offs it makes will not suit everyone fully. But I cannot help but scratch my head over statements like this (Gavin King,&nbsp;again):</p>
<blockquote>
<p>But I guess I should mention that the number one technical problem that we simply can&#8217;t solve to our satisfaction in Java - or in any other existing <span class="caps">JVM</span> language - is the problem of defining user interfaces and structured data using a typesafe, hierarchical&nbsp;syntax.</p>
</blockquote>
<p>I could very well be missing something, but this would seem like a problem that is right in Scala&#8217;s wheelhouse. Perhaps it may not be solved satisfactorily today, but it could done with far less effort than creating a whole new language (and new standard library, and new tool chain&hellip;). It is depressing to think of what these guys could achieve working with Scala instead of pouring resources into&nbsp;Ceylon.</p>
<p>You may wonder, &#8220;if you think Scala is so good, then use it and be happy, why worry about Ceylon?&#8221; Well, I worry because I think Ceylon is worse than Scala, but it could win anyway. That actually seems to be the more common outcome in these situations. I would much prefer a world with Scala jobs in demand than one with Ceylon jobs in demand. So, yes, it&#8217;s all about me being selfish. I would say to all Scala fans: don&#8217;t be afraid to be a little selfish and evangelise for the better&nbsp;outcome.</p>
    </div><!-- /.entry-content -->
    
    <div class="comments">
      <h2>Comments !</h2>
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_identifier = "ceylon-interesting-for-the-wrong-reasons.html";
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://wisdom-eludes-me.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
    </div>
    

  </article>
</section>

        <section id="extras" class="body">
        
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                        
                            <li><a href="http://www.scala-lang.org/">Scala</a></li>
                        
                            <li><a href="http://java.oracle.com/">Java</a></li>
                        
                            <li><a href="http://www.apple.com/">Apple</a></li>
                        
                            <li><a href="http://www.giantitp.com/comics/oots0001.html">The Order of the Stick</a></li>
                        
                        </ul>
                </div><!-- /.blogroll -->
        
        
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://quelgar.github.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>
                            

                        
                            <li><a href="http://twitter.com/quelgar">Twitter</a></li>
                        
                            <li><a href="https://github.com/quelgar">GitHub</a></li>
                        
                        </ul>
                </div><!-- /.social -->
        
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://pelican.notmyidea.org/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->




<script type="text/javascript">
    var disqus_shortname = 'wisdom-eludes-me';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

</body>
</html>